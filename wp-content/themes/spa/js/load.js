function changeUrl(e,t,i,o,n,s,a){if(void 0!==window.history.pushState){var r=document.URL;r!=e&&""!=e&&window.history.pushState({path:e,dataName:n,title:t,keyword:o,description:i,titleog:s,descriptionog:a},"",e)}""!=t&&($("#hdtitle").html(t),$('meta[property="og:description"]').remove(),$("#hdtitle").after('<meta property="og:description" content="'+a+'">'),$('meta[property="og:title"]').remove(),$("#hdtitle").after('<meta property="og:title" content="'+s+'">'),$('meta[property="og:url"]').remove(),$("#hdtitle").after('<meta property="og:url" content="'+e+'">'),$("meta[name=keywords]").remove(),$("#hdtitle").after('<meta name="keywords" content="'+o+'">'),$("meta[name=description]").remove(),$("#hdtitle").after('<meta name="description" content="'+i+'">')),$("#changlanguage_redirect").val(e)}function ResizeWindows(){var e,t,i=$(window).height()>$(window).width(),o=($(window).height()<=$(window).width(),$(window).width()),n=$(window).height(),s=n/o,a=787/1440,r=400/1440;s>a?(t=n,e=n/a):(t=o*a,e=o);var c=$(".library-slide .slide-item").length;o>=1e3?c>3?$(".library-slide .slide-item").css({"float":"left",display:"block"}):($(".library-slide .slide-item").css({"float":"none",display:"inline-block"}),$(".library-slide .slide-wrapper").css({width:"100%"})):o>=500&&1e3>o?c>2?$(".library-slide .slide-item").css({"float":"left",display:"block"}):($(".library-slide .slide-item").css({"float":"none",display:"inline-block"}),$(".library-slide .slide-wrapper").css({width:"100%"})):$(".library-slide .slide-item").css({"float":"left",display:"block"}),$(".album-pic-center").css({height:n}),$(".news-load, .services-load, .content-page, .link-load").css({"min-height":n/2}),$(".page-overflow, .colum-box, .page, .library-content").css({width:o});var l=$(".colum-box, .page").length,d=$(".colum-box, .page").width();if($(".colum-content").width(l*d),1100>=o){if($(".nav-click").css({display:"block"}),$(".scroll-down").css({top:n-70}),i?620>=o?($(".slider-home ").css({width:"100%",height:n/2+100}),$(".content-slide").css({width:"100%",height:n/2+100}),$(".bg-inner").css({width:"100%",height:(o+600)*r})):($(".slider-home").css({width:"100%",height:n/2}),$(".content-slide").css({width:"100%",height:n/2}),$(".bg-inner").css({width:"100%",height:(o+500)*r})):820>=o?($(".slider-home ").css({width:"100%",height:n}),$(".content-slide").css({width:"100%",height:n}),$(".bg-inner").css({width:"100%",height:(o+200)*r})):($(".slider-home ").css({width:"100%",height:n-100}),$(".content-slide").css({width:"100%",height:n-100}),$(".bg-inner").css({width:"100%",height:(o+100)*r})),$(".sub-tab-section-mobile .sub-tab li").hasClass("current")){var h=$(".sub-tab-section-mobile .sub-tab li.current a").attr("data-sub"),m=$('.services-sub-wrap[data-show= "'+h+'"] .sub-menu').innerHeight();$(".menu-service-mobile").css({height:m})}$("#home-page").length?$(".slogan").css({top:$(".slider-home").height()-100}):$(".slogan").css({top:$(".bg-inner").height()-200}),(isIE9||isIE10||isIE11||isEge)&&(420>=o?$(".columne").css({"column-count":"1","column-gap":"10px"}):o>420&&820>=o?$(".columne").css({"column-count":"2","column-gap":"10px"}):$(".columne").css({"column-count":"3","column-gap":"10px"}));var p=0;$(".sub-tab li").each(function(){var e=$(this).outerWidth()+2;p+=parseInt(e),$(".sub-tab ul").width(p)}),720>=o?$(".content-details img, .news-text img, .album-pic-center img, .box-pic img, .fotona-pic img, .introduction-banner-box img,.value-slogan-pic img,.services-txt img, .step-col img").addClass("zoom-pic"):$(".content-details img, .news-text img, .album-pic-center img, .box-pic img, .fotona-pic img,.introduction-banner-box img,.value-slogan-pic img,.services-txt img, .step-col img").removeClass("zoom-pic")}else o>1100&&($(".nav-click").css({display:"none"}),$(".scroll-down, .go-top").css({display:"none"}),$(".sub-home").css({top:n-80}),$(".scroll-down-desktop").css({top:n-50}),$(".next-prev").css({top:n/2-35}),$(".content-slide").css({width:"100%",height:n}),$(".slider-home").css({width:"100%",height:n}),$(".bg-inner").css({width:"100%",height:o*r}),$("#home-page").length?$(".slogan").css({top:$(".slider-home").height()-150}):$(".slogan").css({top:$(".bg-inner").height()-280}),(isIE9||isIE10||isIE11||isEge)&&$(".columne").css({"column-count":"3","column-gap":"10px"}),$(".sub-tab ul").css({width:"auto"}),$("#services-page").length&&(1280>=o?$(".leaf-top, .pattern-pink").addClass("none").addClass("hide"):o>1280&&1440>=o?$(".leaf-top, .pattern-pink").removeClass("none").addClass("hide"):$(".leaf-top, .pattern-pink").removeClass("hide").removeClass("none"),$(".step-row").each(function(){var e=$(this).children().length;2>e&&$(this).addClass("type-b")})),$(".content-details img, .news-text img, .album-pic-center img, .box-pic img, .fotona-pic img, .introduction-banner-box img, .value-slogan-pic img,.services-txt img, .step-col img").removeClass("zoom-pic"));$(".colum-content").css({height:$(".colum-content .colum-box.active, .colum-content .page.active").innerHeight()})}function initialize(){function e(){m.setAnimation(null)}function t(){e();var t=document.createElement("div");t.innerHTML="<div class='infobox'><img src='"+l+"'  alt='"+a+"' ><h3>CHARM SPA</h3><p>"+n+"<br>"+o+" <strong><a href='tel:"+s+"'>"+s+"</a></strong><br></p></div>";var r={content:t,disableAutoPan:!0,maxWidth:300,pixelOffset:new google.maps.Size(-150,-150),boxStyle:{background:"transparent",opacity:1,width:"400px"},closeBoxMargin:"10px 0 0 60px",closeBoxzIndex:"99999",closeBoxPosition:"absolute",closeBoxURL:i+"images/close_s.png",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!0},c=new InfoBox(r);c.open(v,m)}var i=($(".httpserver").text(),$(".httptemplate").text()),o=$(".infobox-hotline-text").text(),n=$(".infobox-address").text(),s=$(".infobox-hotline").text(),a=$(".infobox-name").text(),r=($(".infobox-location").text(),$(".infobox-location-lat").text()),c=$(".infobox-location-lng").text(),l=$(".infobox-image").text(),d=$(".infobox-googlemap").text(),h=new google.maps.LatLng(r,c),m=null,p=[{stylers:[{hue:"#ffd24f"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]}],u=new google.maps.StyledMapType(p,{name:"Styled Map"});if(Xwidth>1100)var g=!0;else var g=!1;$(".touch-m").click(function(){if($(".touch-m").hasClass("active")){var e={draggable:!1};return v.setOptions(e),$(".touch-m").removeClass("active"),!1}var e={draggable:!0};return v.setOptions(e),$(".touch-m").addClass("active"),!1});var f={center:h,zoom:14,scrollwheel:!1,draggable:g,draggingCursor:"move",noclear:!0,disableDefaultUI:!0,disableDoubleClickZoom:!0,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"],position:google.maps.ControlPosition.TOP_RIGHT}};google.maps.event.addDomListener(window,"resize",function(){google.maps.event.trigger(v,"resize"),v.setCenter(h),v.setZoom(14)});
var v=new google.maps.Map(document.getElementById("map-canvas"),f); 
v.mapTypes.set("map_style",u),v.setMapTypeId("map_style");var w=i+"images/logo-map.png";m=new google.maps.Marker({map:v,draggable:!1,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(r,c),icon:w}),google.maps.event.addDomListener(window,"resize",function(){google.maps.event.trigger(v,"resize"),v.setCenter(h),v.setZoom(14)});var y=d;$(window).width()>1100?google.maps.event.addListener(m,"click",t):google.maps.event.addListener(m,"click",function(){window.open(y,"_blank")}),ZoomControl(v)}function ZoomControl(e){$(".zoom-control a").click(function(){var t=e.getZoom();switch($(this).attr("id")){case"zoom-in":e.setZoom(++t);break;case"zoom-out":e.setZoom(--t)}return!1})}function Done(){DoneLoad=1,ResizeWindows(),ContentLoad(),$(".container").stop().animate({opacity:1},500,"linear",function(){$("html, body").scrollTop(0),$(".logo,  .navigation, .nav-click").addClass("fadein"),$(".loadicon").addClass("fadeout"),setTimeout(function(){$(".loadicon").remove(),$(window).width()>1100?$(".slogan").addClass("fadeinup"):$(".slogan").addClass("fadein")},1e3)})}var ua=navigator.userAgent,androidversion=parseFloat(ua.slice(ua.indexOf("Android")+8)),isTouchDevice="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,isTouch="ontouchstart"in window||window.navigator.msMaxTouchPoints,isDesktop=0==$(window).width()||isTouchDevice?!1:!0,isiPad=-1!=navigator.userAgent.indexOf("iPad"),isiPhone=-1!=navigator.userAgent.indexOf("iPhone"),isiPod=-1!=navigator.userAgent.indexOf("iPod"),isAndroid=-1!=navigator.userAgent.indexOf("Android"),isIE=-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&0!=$(window).width(),isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isSafari=navigator.userAgent.toLowerCase().indexOf("safari")>-1,match=navigator.userAgent.match("MSIE (.)"),versions=match&&match.length>1?match[1]:"unknown",isIE9=/MSIE 9/i.test(navigator.userAgent),isIE10=/MSIE 10/i.test(navigator.userAgent),isIE11=/rv:11.0/i.test(navigator.userAgent),isEge=/Edge\/12./i.test(navigator.userAgent),userAgent=navigator.userAgent.toLowerCase(),version=0;userAgent=userAgent.substring(userAgent.indexOf("safari/")+7),userAgent=userAgent.substring(0,userAgent.indexOf(".")),version=userAgent;var Xwidth=$(window).width(),Yheight=$(window).height(),DoneLoad=0,View=0,hostname=location.hostname,Loadx=0,minDelay=0,maxDelay=950;!function(e){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1});var t=(e(window).height(),e(window).width(),new Array),i=0,o=!1,n="",s="",a="",r="",c=0,l=0,d={onComplete:function(){e("#qLoverlay").remove(),e("body .item-load").remove()},backgroundColor:"#fff",barColor:"#fff",barHeight:1,percentage:!0,deepSearch:!0,completeAnimation:"fade",minimumTime:500,onLoadComplete:function(){if("grow"==d.completeAnimation){var t=100,i=new Date;i.getTime()-l<d.minimumTime&&(t=d.minimumTime-(i.getTime()-l)),e("#qLbar").stop().animate({width:"100%"},t,function(){e("#qLoverlay").fadeOut(200,function(){d.onComplete(),0==Loadx&&(Loadx=1,Done()),ResizeWindows()})})}}},h=function(){var e=new Date;l=e.getTime(),m(),f()},m=function(){n=e('<div class="item-load"></div>').appendTo("body").css({display:"none",width:0,height:0,overflow:"hidden"});for(var i=0;t.length>i;i++)e.ajax({url:t[i],type:"HEAD",success:function(){o||(c++,p(this.url))}})},p=function(t){e("<img >").attr("src",t).bind("load",function(){u()}).appendTo(n)},u=function(){i++;var t=i/c*100;e(a).stop().animate({width:t+"%",minWidth:t+"%"},200),1==d.percentage&&e(r).text(Math.ceil(t)+"%"),i==c&&g()},g=function(){e(n).remove(),d.onLoadComplete(),o=!0},f=function(){s=e('<div id="qLoverlay"></div>').css({width:"100%",height:"10px",position:"absolute",zIndex:1e3,top:0,left:0}).appendTo("body"),a=e('<div id="qLbar"></div>').css({height:d.barHeight+"px",backgroundColor:d.barColor,width:"0%",position:"absolute",top:"0px"}).appendTo(s),1==d.percentage&&(r=e('<div id="qLpercentage"></div>').text("0%").css({height:"120px",width:"120px",position:"absolute",fontSize:"0px",top:"50%",left:"50%",marginTop:"60px",textAlign:"center",marginLeft:"-60px",color:"#fff"}).appendTo(s))},v=function(i){var o="";if("none"!=e(i).css("background-image"))var o=e(i).css("background-image");else if("undefined"!=typeof e(i).attr("src")&&"img"==i.nodeName.toLowerCase())var o=e(i).attr("src");if(-1==o.indexOf("gradient")){o=o.replace(/url\(\"/g,""),o=o.replace(/url\(/g,""),o=o.replace(/\"\)/g,""),o=o.replace(/\)/g,"");for(var n=o.split(", "),s=0;s<n.length;s++)if(n[s].length>0&&-1==t.indexOf(n[s])){var a="";t.push(n[s]+a)}}};e.fn.queryLoader=function(t){return t&&e.extend(d,t),this.each(function(){v(this),1==d.deepSearch&&e(this).find("*:not(script)").each(function(){v(this)})}),h(),this}}(jQuery),function(e){function t(){var t=c.clientHeight,i=e.innerHeight;return i>t?i:t}function i(){return e.pageYOffset||c.scrollTop}function o(e){var t=0,i=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(i+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:i}}function n(e,n){var s=e.offsetHeight,a=i(),r=a+t()-$(".slider-inner").height()/5,c=o(e).top,l=c+s,n=n||0;return r>=c+s*n&&l-s*n>=a}function s(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function a(e){this.el=e,this.image=e.querySelector(".col-top img"),this.curtain=e.querySelector(".curtain")}function r(e,t){this.el=e,this.options=s({},this.options),s(this.options,t),this._init()}var c=e.document.documentElement,l={animations:Modernizr},d={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},h=d[Modernizr.prefixed("animation")];a.prototype.addCurtain=function(){if(this.image){var e=new ColorFinder(function(e,t,i){return e>245&&t>245&&i>245?0:(e*e+t*t+i*i)/65535*50+1}).getMostProminentColor(this.image);if(e.r&&e.g&&e.b){var t="rgb("+e.r+","+e.g+","+e.b+")";"rgba("+e.r+","+e.g+","+e.b+",1)";this.curtain.style.background=t}}},a.prototype.changeAnimationDelay=function(e){this.curtain&&(this.curtain.style.WebkitAnimationDelay=e+"ms",this.curtain.style.animationDelay=e+"ms")},r.prototype.options={minDelay:0,maxDelay:300,viewportFactor:0},r.prototype._init=function(){var t=this,i=[];[].slice.call(this.el.children).forEach(function(e){var t=new a(e);i.push(t)}),this.items=i,this.itemsCount=this.items.length,this.itemsRenderedCount=0,this.didScroll=!1,t.items.forEach(function(e){e.addCurtain(),n(e.el)?(++t.itemsRenderedCount,classie.add(e.el,"shown")):e.changeAnimationDelay(Math.random()*(t.options.maxDelay-t.options.minDelay)+t.options.minDelay)});var o=function(){t.didScroll||(t.didScroll=!0,setTimeout(function(){t._scrollPage()},200)),t.itemsRenderedCount===t.itemsCount&&e.removeEventListener("scroll",o,!1)};e.addEventListener("scroll",o,!1),e.addEventListener("resize",function(){t._resizeHandler()},!1)},r.prototype._scrollPage=function(){var e=this;this.items.forEach(function(t){if(!classie.has(t.el,"shown")&&!classie.has(t.el,"animate")&&n(t.el,e.options.viewportFactor)){if(++e.itemsRenderedCount,!t.curtain)return void classie.add(t.el,"shown");classie.add(t.el,"animate");var i=function(){l.animations&&this.removeEventListener(h,i),classie.remove(t.el,"animate"),classie.add(t.el,"shown")};l.animations?t.curtain.addEventListener(h,i):i()}}),this.didScroll=!1},r.prototype._resizeHandler=function(){function e(){t._scrollPage(),t.resizeTimeout=null}var t=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(e,100)},e.GridScrollFx=r}(window),$(document).ready(function(){if(isChrome){var e=$(".httptemplate").text();$("head").append('<link href="'+e+'wp-content/themes/spa/css/scroll.css" rel="stylesheet" type="text/css" >')}$("html, body").scrollTop(0),$("body").append('<div class="loadicon" style="display:block"><span class="circle"></span></div>'),$("body").queryLoader({barColor:"#fff",percentage:!0,barHeight:1,completeAnimation:"grow",minimumTime:100}),ResizeWindows(),setTimeout(function(){0==Loadx&&(Loadx=1,Done())},1e3)}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,o){return t(e,i,o)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){"use strict";function o(e,t){for(var i in t)e[i]=t[i];return e}function n(e){return"[object Array]"===m.call(e)}function s(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var i=0,o=e.length;o>i;i++)t.push(e[i]);else t.push(e);return t}function a(e,t,i){if(!(this instanceof a))return new a(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=s(e),this.options=o({},this.options),"function"==typeof t?i=t:o(this.options,t),i&&this.on("always",i),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var n=this;setTimeout(function(){n.check()})}function r(e){this.img=e}function c(e){this.src=e,p[e]=this}var l=e.jQuery,d=e.console,h="undefined"!=typeof d,m=Object.prototype.toString;a.prototype=new t,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var o=i.nodeType;if(o&&(1===o||9===o||11===o))for(var n=i.querySelectorAll("img"),s=0,a=n.length;a>s;s++){var r=n[s];this.addImage(r)}}},a.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},a.prototype.check=function(){function e(e,n){return t.options.debug&&h&&d.log("confirm",e,n),t.progress(e),i++,i===o&&t.complete(),!0}var t=this,i=0,o=this.images.length;if(this.hasAnyBroken=!1,!o)return void this.complete();for(var n=0;o>n;n++){var s=this.images[n];s.on("confirm",e),s.check()}},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},l&&(l.fn.imagesLoaded=function(e,t){var i=new a(this,e,t);return i.jqDeferred.promise(l(this))}),r.prototype=new t,r.prototype.check=function(){var e=p[this.img.src]||new c(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},a});